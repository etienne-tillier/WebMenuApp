(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{52:function(e,t,a){e.exports=a(67)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),s=(a(57),a(58),a(59),a(30)),i=a(5),o=a(3),m="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("dcaa113ab87e465fa2837f4446c7e05d","&redirect_uri=").concat("http://localhost:3000/player","&scope=").concat(["streaming","playlist-modify-public","playlist-modify-private","playlist-read-private","playlist-read-collaborative","user-library-modify","user-library-read","user-top-read","user-read-playback-position","user-read-playback-state","user-read-email","user-read-private","user-read-currently-playing","user-modify-playback-state","user-follow-modify","user-follow-read"].join("%20"),"&response_type=token&show_dialog=true"),u=function(e){var t=e.setSidebar,a=e.sidebar,n=a?r.a.createElement("i",{style:{fontSize:"28px"},className:"fa fa-times"}):r.a.createElement("i",{className:"fa fa-bars"});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"fa fa-spotify spotify"}),"Spotify"),r.a.createElement("div",null),r.a.createElement("div",{onClick:function(){return t(!a)},className:"hamburger"},n),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Premium")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Help")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Download")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement("a",{className:"gray",href:"#"},"Sign Up")),r.a.createElement("li",null,r.a.createElement("a",{className:"gray",href:m},"Log In"))))))},f=function(){return r.a.createElement("button",{className:"body-button",onMouseDown:function(e){return e.target.style.transform="scale(.95)"},onMouseUp:function(e){return e.target.style.transform="scale(1)"},onMouseOut:function(e){return e.target.style.transform="scale(1)"}},"Log In Here")},d=function(){return r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-container"},r.a.createElement("h1",{className:"body-title"},"Another"),r.a.createElement("h1",{className:"body-title"},"Spotify"),r.a.createElement("h1",{className:"mobile-title"},"Another Spotify"),r.a.createElement("p",null,"Millions of songs and podcasts from Spotify's API."),r.a.createElement("a",{href:m},r.a.createElement(f,null))),r.a.createElement("div",{className:"padding"}))},E=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-content"},r.a.createElement("div",{className:"footer-logo logo"},r.a.createElement("i",{className:"fa fa-spotify"}),"Spotify"),r.a.createElement("div",{className:"footer-links-section"},r.a.createElement("div",{className:"footer-links"},r.a.createElement("div",{className:"footer-link-header"},"Company"),r.a.createElement("div",{className:"footer-link"},"About"),r.a.createElement("div",{className:"footer-link"},"Jobs"),r.a.createElement("div",{className:"footer-link"},"For the Record")),r.a.createElement("div",{className:"footer-links"},r.a.createElement("div",{className:"footer-link-header"},"Communities"),r.a.createElement("div",{className:"footer-link"},"For Artists"),r.a.createElement("div",{className:"footer-link"},"Developers"),r.a.createElement("div",{className:"footer-link"},"Advertising"),r.a.createElement("div",{className:"footer-link"},"Investors"),r.a.createElement("div",{className:"footer-link"},"Vendors")),r.a.createElement("div",{className:"footer-links"},r.a.createElement("div",{className:"footer-link-header"},"Useful Links"),r.a.createElement("div",{className:"footer-link"},"Help"),r.a.createElement("div",{className:"footer-link"},"Web Player"),r.a.createElement("div",{className:"footer-link"},"Free Mobile App"))),r.a.createElement("div",{className:"socials"},r.a.createElement("div",{className:"social"},r.a.createElement("div",{className:"fa fa-instagram"})),r.a.createElement("div",{className:"social"},r.a.createElement("div",{className:"fa fa-twitter"})),r.a.createElement("div",{className:"social"},r.a.createElement("div",{className:"fa fa-facebook"}))),r.a.createElement("div",{className:"usa"},r.a.createElement("p",null,"USA"),r.a.createElement("img",{src:"https://country-flags.scdn.co/flags/us.svg",height:"18px",alt:"US Flag"})),r.a.createElement("div",{className:"footer-legal"},r.a.createElement("div",{className:"footer-legal-links"},r.a.createElement("a",{href:"#"},"Legal"),r.a.createElement("a",{href:"#"},"Privacy Center"),r.a.createElement("a",{href:"#"},"Privacy Policy"),r.a.createElement("a",{href:"#"},"Cookies"),r.a.createElement("a",{href:"#"},"About Ads"),r.a.createElement("a",{href:"#"},"Additional CA Privacy Disclosures")),r.a.createElement("div",{className:"footer-copy"},r.a.createElement("p",null,"\xa92020 Spotify AB")))))},p=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar-menu"},r.a.createElement("div",{className:"sidebar-links"},r.a.createElement("a",{href:"#"},"Premium"),r.a.createElement("a",{href:"#"},"Help"),r.a.createElement("a",{href:"#"},"Download"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("a",{href:"#"},"Sign up"),r.a.createElement("a",{href:m},"Log in")),r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"fa fa-spotify"}),"Spotify"))))},h=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:a?"scroll":""},r.a.createElement(u,{setSidebar:c,sidebar:a}),a&&r.a.createElement(p,null),r.a.createElement(d,null),r.a.createElement(E,null))},y=a(37),v=a(38),b=a(47),g=a(46),N=a(39),k=a.n(N),I=function(e){var t=e.API,a=e.changeContextURI,c=e.contextURI,l=Object(n.useState)(null),s=Object(o.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)(""),f=Object(o.a)(u,2),d=f[0],E=f[1];return Object(n.useEffect)((function(){null===i&&t.getUserPlaylists().then((function(e){e.items.length>0?m(e.items.map((function(e){return r.a.createElement("div",{key:"playlist "+e.name,className:"playlist",onClick:function(){return a(e.uri)}},e.name)}))):m(r.a.createElement("div",{key:"no playlist",className:"playlist"},"No saved playlists!"))})).catch((function(e){console.log(e)})),c&&E(c.split(":")[2])}),[i,c,t,a]),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-logo"},r.a.createElement("i",{className:"fa fa-spotify"})," Spotify"),r.a.createElement("div",{className:"home"===d?"menu-item selected":"menu-item",onClick:function(){return a("custom:custom:home")}},r.a.createElement("i",{className:"fa fa-home"}),"Home"),r.a.createElement("div",{className:"search"===d?"menu-item selected":"menu-item",onClick:function(){return a("custom:custom:search")}},r.a.createElement("i",{className:"fa fa-search"}),"Search"),r.a.createElement("div",{className:"library"===d?"menu-item selected":"menu-item",onClick:function(){return a("custom:custom:library")}},r.a.createElement("i",{className:"fa fa-list"}),"Top Artists"),r.a.createElement("div",{className:"menu-playlist-title"},"Web Links"),r.a.createElement("div",{className:"menu-playlist-button"},r.a.createElement("i",{className:"fa fa-plus mr-10"}),r.a.createElement("a",{href:"https://github.com/Tune42",className:"menu-link"},"Other Works")),r.a.createElement("div",{className:"menu-playlist-button"},r.a.createElement("i",{className:"fa fa-thumbs-up mr-10"}),r.a.createElement("a",{href:"https://github.com/Tune42/spotify-clone/stargazers",className:"menu-link"},"Like the App")),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"menu-playlist"},i))},x=a(88),S=a(90),U=a(97),C=a(43),R=a.n(C),A=a(44),O=a.n(A),j=Object(x.a)({root:{width:200,marginTop:"10px"}});function P(e){var t=e.API,a=j(),n=r.a.useState(100),c=Object(o.a)(n,2),l=c[0],s=c[1],i=function(e,a){s(a),t.setVolume(a)};return r.a.createElement("div",{className:a.root},r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0},r.a.createElement(R.a,{onClick:function(e){return i(0,0)}})),r.a.createElement(S.a,{item:!0,xs:!0},r.a.createElement(U.a,{value:l,onChange:i,style:{color:"#1ED760"},"aria-labelledby":"continuous-slider"})),r.a.createElement(S.a,{item:!0},r.a.createElement(O.a,{onClick:function(e){return i(0,100)}}))))}var w=Object(x.a)({root:{width:325}}),_=function(e){var t=e.API,a=e.playerState,c=w(),l=Object(n.useState)(0),s=Object(o.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){if(a&&(m(a.position/a.duration*100),!a.paused)){var e=setInterval((function(){m((function(e){return(e/100*a.duration+1e3)/a.duration*100}))}),1e3);return function(){return clearInterval(e)}}}),[a]);return r.a.createElement("div",{className:c.root},r.a.createElement(U.a,{value:i,onChangeCommitted:function(e,n){t.seek(Math.floor(n/100*a.duration)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},"aria-labelledby":"continuous-slider"}))},D=function(e){var t,a=e.API,n=e.playerState,c=e.changeContextURI,l=(e.disabled,"fa fa-play"),s="",i="",o="",m="";return null!==n&&(t=r.a.createElement("img",{src:n.smallCover.url,alt:"Album Art",className:"mr-10"}),s=n.track,i=n.artist,l=n.paused?"fa fa-play":"fa fa-pause",o=n.shuffle?"#1ED760":"",m=2===n.repeat?"#1ED760":""),r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"left-section"},t,r.a.createElement("div",{className:"mr-10"},r.a.createElement("p",{className:"player-link",onClick:function(){return c(n.albumURI)}},s),r.a.createElement("p",{className:"player-artist player-link",onClick:function(){return c(n.artistURI)}},i))),r.a.createElement("div",{className:"mid-section"},r.a.createElement("div",{className:"player-buttons"},r.a.createElement("i",{className:"fa fa-random",style:{color:o},onClick:function(){a.setShuffle(!n.shuffle)}}),r.a.createElement("i",{className:"fa fa-step-backward",onClick:a.skipToPrevious}),r.a.createElement("i",{className:l,onClick:function(){n.paused?a.play():a.pause()}}),r.a.createElement("i",{className:"fa fa-step-forward",onClick:a.skipToNext}),r.a.createElement("i",{className:"fa fa-repeat",style:{color:m},onClick:function(){2===n.repeat?a.setRepeat("off"):a.setRepeat("track")}})),r.a.createElement(_,{playerState:n,API:a})),r.a.createElement("div",{className:"right-section"},r.a.createElement("i",{className:"fa fa-list-ol mr-10",onClick:function(){return c(n.context)}}),r.a.createElement(P,{API:a})))},M=a(96),T=a(10),L=a.n(T),F=a(16),z=a(93),H=a(95),W=a(92),q=a(94),J=a(91),B=a(45),V=a.n(B),K=function(e){var t=e.index,a=e.name,c=e.album,l=e.albumURI,s=e.duration,i=e.playerState,m=e.uri,u=e.API,f=e.contextURI,d=e.changeContextURI,E=Object(n.useState)(),p=Object(o.a)(E,2),h=p[0],y=p[1],v=Object(n.useState)(t+1),b=Object(o.a)(v,2),g=b[0],N=b[1],k=Object(n.useState)(!1),I=Object(o.a)(k,2),x=I[0],S=I[1],U=Object(n.useState)(""),C=Object(o.a)(U,2),R=C[0],A=C[1];Object(n.useEffect)((function(){i?i.trackURI!==m&&i.linkedFrom!==m||i.paused?(y(r.a.createElement("i",{className:"fa fa-play"})),N(t+1),A("")):(y(r.a.createElement("i",{className:"fa fa-pause",style:{color:"#1ED760"}})),N(r.a.createElement(V.a,{fontSize:"inherit",htmlColor:" #1ED760"})),A("playing")):(y(r.a.createElement("i",{className:"fa fa-play"})),N(t+1),A(""))}),[t,i,m]);var O=function(){i&&(i.paused||i.trackURI!==m&&i.linkedFrom!==m?(u.play({context_uri:f,offset:{position:t}}),y(r.a.createElement("i",{className:"fa fa-pause"}))):(u.pause(),y(r.a.createElement("i",{className:"fa fa-play"}))))};return r.a.createElement(J.a,{key:t+" - "+a,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)}},r.a.createElement(W.a,{onClick:function(){return O()}},x?h:g),r.a.createElement(W.a,null,r.a.createElement("span",{className:R+" link",onClick:function(){return O()}},a)),r.a.createElement(W.a,null,r.a.createElement("span",{className:R+" link",onClick:function(){return d(l)}},c)),r.a.createElement(W.a,{align:"center"},r.a.createElement("span",{className:R},function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a}(s))))},Y=function(e){var t=e.tracks,a=e.album,n=e.playerState,c=e.API,l=e.contextURI,s=e.changeContextURI;return r.a.createElement(z.a,{className:"track-table",stickyHeader:!0},r.a.createElement(q.a,null,r.a.createElement(J.a,null,r.a.createElement(W.a,{width:"10%"},"#"),r.a.createElement(W.a,{width:"40%"},"Title"),r.a.createElement(W.a,{width:"40%"},"Album"),r.a.createElement(W.a,{width:"10%"},"Duration"))),r.a.createElement(H.a,null,t.map((function(e,t){return e.track?r.a.createElement(K,{key:t+e.track.name,index:t,name:e.track.name,album:e.track.album.name,albumURI:e.track.album.uri,duration:e.track.duration_ms,playerState:n,uri:e.track.uri,API:c,contextURI:l,changeContextURI:s}):r.a.createElement(K,{key:t+e.name,index:t,name:e.name,album:a,albumURI:e.uri,duration:e.duration_ms,playerState:n,uri:e.uri,API:c,contextURI:l,changeContextURI:s})}))))},G=function(e){var t=e.image,a=e.type,c=e.name,l=e.description,s=e.tracks,i=e.playerState,m=e.API,u=e.contextURI,f=e.artistURI,d=e.changeContextURI,E=Object(n.useState)(null),p=Object(o.a)(E,2),h=p[0],y=p[1];Object(n.useEffect)((function(){function e(){return(e=Object(F.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("album"!==a){e.next=5;break}return e.next=3,m.containsMySavedAlbums([u.split(":").pop()]).then((function(e){return y(e[0])})).catch((function(e){return console.log(e)}));case 3:e.next=9;break;case 5:return e.next=7,m.getMe().then((function(e){return t=e.id})).catch((function(e){return console.log(e)}));case 7:return e.next=9,m.areFollowingPlaylist(u.split(":").pop(),[t]).then((function(e){return y(e[0])})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var v;return v=f?r.a.createElement("p",{className:"artist-link",onClick:function(){return d(f)}},l):r.a.createElement("p",null,l),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"title-row"},r.a.createElement("div",{className:"art"},r.a.createElement("img",{src:t,alt:"Cover Art",width:"200px"})),r.a.createElement("div",{className:"playlist-info"},r.a.createElement("p",{style:{fontWeight:400,textTransform:"uppercase"}},r.a.createElement("small",null,a),r.a.createElement("i",{className:"fa fa-heart",style:h?{color:"#1ED760"}:{},onClick:function(){h?"album"===a?m.removeFromMySavedAlbums([u.split(":").pop()]).then((function(){y(!h)})).catch((function(e){return console.log(e)})):m.unfollowPlaylist(u.split(":").pop()).then((function(){y(!h)})).catch((function(e){return console.log(e)})):"album"===a?m.addToMySavedAlbums([u.split(":").pop()]).then((function(){y(!h)})).catch((function(e){return console.log(e)})):m.followPlaylist(u.split(":").pop()).then((function(){y(!h)})).catch((function(e){return console.log(e)}))}})),r.a.createElement("h1",{className:"playlist-title"},c),v)),r.a.createElement(Y,{tracks:s,album:c,playerState:i,API:m,contextURI:u,changeContextURI:d}))},Q=function(e){var t,a,n=e.album,c=e.changeContextURI;return t=n.release_date?r.a.createElement("h5",{className:"card-description"},"Released in ",n.release_date.split("-")[0]):n.genres?r.a.createElement("h5",{className:"card-description",style:{textTransform:"uppercase"}},n.genres[1]):r.a.createElement("h5",{className:"card-description"},n.description),n.images[0]&&(a=r.a.createElement("img",{className:"card-image",src:n.images[0].url,width:"150px",height:"150px",alt:"playlist"})),r.a.createElement("div",{className:"card",onClick:function(){return c(n.uri)}},a,r.a.createElement("div",{className:"card-text"},r.a.createElement("h3",{className:"card-title"},n.name),t))},X=function(e){var t,a=e.artist,c=e.API,l=e.changeContextURI,s=Object(n.useState)({image:"",name:""}),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){var e={};function t(){return(t=Object(F.a)(L.a.mark((function t(a){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getArtist(a).then((function(t){e.image=t.images[0].url,e.name=t.name})).catch((function(e){return console.log(e)}));case 2:return t.next=4,c.getArtistAlbums(a,{limit:50,include_groups:"album",country:"US"}).then((function(t){e.albums=t.items})).catch((function(e){return console.log(e)}));case 4:u(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(a)}),[a,c]),m.albums&&(t=m.albums.map((function(e,t){return r.a.createElement(Q,{key:t+" "+e,album:e,changeContextURI:l})}))),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"title-row"},r.a.createElement("div",{className:"art"},r.a.createElement("img",{src:m.image,alt:"Cover Art",width:"300px"})),r.a.createElement("div",{className:"playlist-info"},r.a.createElement("p",{style:{fontWeight:400,textTransform:"uppercase"}},"Artist"),r.a.createElement("h1",{className:"playlist-title"},m.name))),r.a.createElement("div",{className:"card-category"},r.a.createElement("div",{className:"card-category-title"},r.a.createElement("h2",null,"Albums")),r.a.createElement("div",{className:"card-category-items"},t)))},Z=function(e){var t,a,c=e.API,l=e.changeContextURI,s=Object(n.useState)(null),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){if(null===m){var e={};function t(){return(t=Object(F.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getUserPlaylists().then((function(t){e.playlists=t.items})).catch((function(e){return console.log(e)}));case 2:return t.next=4,c.getMySavedAlbums().then((function(t){e.savedAlbums=t.items})).catch((function(e){return console.log(e)}));case 4:u(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}})),null!==m&&(t=m.savedAlbums&&m.savedAlbums.length>0?m.savedAlbums.map((function(e,t){return r.a.createElement(Q,{key:t+" "+e.album.name,album:e.album,changeContextURI:l})})):r.a.createElement("h2",null,"Unable to retrieve saved albums for this account either due to an error or because you have not saved any."),a=m.playlists&&m.playlists.length>0?m.playlists.map((function(e,t){return r.a.createElement(Q,{key:t+" "+e.name,album:e,changeContextURI:l})})):r.a.createElement("h2",null,"Unable to retrieve playlists for this account either due to an error or because you have not saved any.")),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"card-category"},r.a.createElement("div",{className:"card-category-title"},r.a.createElement("h2",null,"Saved Albums")),r.a.createElement("div",{className:"card-category-items"},t)),r.a.createElement("div",{className:"card-category"},r.a.createElement("div",{className:"card-category-title"},r.a.createElement("h2",null,"Playlists")),r.a.createElement("div",{className:"card-category-items"},a)))},$=function(e){var t=e.API,a=e.changeContextURI,c=Object(n.useState)(null),l=Object(o.a)(c,2),s=l[0],i=l[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),f=u[0],d=u[1];function E(){return(E=Object(F.a)(L.a.mark((function e(a){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,t.search(a,["album","artist","playlist"],{market:"us",limit:20}).then((function(e){n.artists=e.artists.items,n.albums=e.albums.items,n.playlists=e.playlists.items})).catch((function(e){return console.log(e)}));case 3:i(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p,h,y;return s&&s.artists&&(p=s.artists.map((function(e,t){return r.a.createElement(Q,{key:"artist "+t,album:e,changeContextURI:a})}))),s&&s.albums&&(h=s.albums.map((function(e,t){return r.a.createElement(Q,{key:"album "+t,album:e,changeContextURI:a})}))),s&&s.playlists&&(y=s.playlists.map((function(e,t){return r.a.createElement(Q,{key:"playlist "+t,album:e,changeContextURI:a})}))),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){E.apply(this,arguments)}(f)}},r.a.createElement("input",{type:"search",onChange:function(e){d(e.target.value)},name:"search",id:"search",value:f,placeholder:"Search artists or albums",autoComplete:"off",className:"search"}))),r.a.createElement("div",{className:"card-category"},p&&r.a.createElement("div",{className:"card-category-title",style:{fontSize:30}},r.a.createElement("h2",null,"Artists")),r.a.createElement("div",{className:"card-category-items"},p)),r.a.createElement("div",{className:"card-category"},h&&r.a.createElement("div",{className:"card-category-title",style:{fontSize:30}},r.a.createElement("h2",null,"Albums")),r.a.createElement("div",{className:"card-category-items"},h)),r.a.createElement("div",{className:"card-category"},y&&r.a.createElement("div",{className:"card-category-title",style:{fontSize:30}},r.a.createElement("h2",null,"Playlists")),r.a.createElement("div",{className:"card-category-items"},y)))},ee=function(e){var t,a=e.API,c=e.changeContextURI,l=Object(n.useState)(null),s=Object(o.a)(l,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){if(null===i){var e={};function t(){return(t=Object(F.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getMyTopArtists({limit:50}).then((function(t){e.artists=t.items})).catch((function(e){return console.log(e)}));case 2:m(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}})),null!==i&&(t=i.artists&&i.artists.length>0?i.artists.map((function(e,t){return r.a.createElement(Q,{key:e+" "+t,API:a,changeContextURI:c,album:e})})):r.a.createElement("h2",null,"Unable to retrieve artist data for this account either due to an error or because your account is too new.")),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"card-category"},r.a.createElement("div",{className:"card-category-title"},r.a.createElement("h2",null,"Your Top Artists")),r.a.createElement("div",{className:"card-category-items"},t))))},te=function(){return r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",null,"OOPS! There was an error!"))},ae=function(e){var t=e.API,a=e.contextURI,c=e.playerState,l=e.changeContextURI,s=Object(n.useState)(r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"loading"},r.a.createElement(M.a,null)))),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){if(null!==a){var e=a.split(":");"playlist"===e[1]?t.getPlaylist(e[2]).then((function(e){u(r.a.createElement(G,{image:e.images[0].url,type:e.type,name:e.name,description:e.description,tracks:e.tracks.items,playerState:c,API:t,contextURI:a,changeContextURI:l}))})).catch((function(e){return console.log(e)})):"album"===e[1]?t.getAlbum(e[2]).then((function(e){u(r.a.createElement(G,{image:e.images[0].url,type:e.type,name:e.name,description:e.artists[0].name,artistURI:e.artists[0].uri,tracks:e.tracks.items,playerState:c,API:t,contextURI:a,changeContextURI:l}))})).catch((function(e){return console.log(e)})):"artist"===e[1]?u(r.a.createElement(X,{artist:e[2],API:t,changeContextURI:l})):"custom"===e[1]?"home"===e[2]?u(r.a.createElement(Z,{API:t,changeContextURI:l})):"search"===e[2]?u(r.a.createElement($,{API:t,changeContextURI:l})):"library"===e[2]&&u(r.a.createElement(ee,{API:t,changeContextURI:l})):(console.log(e),u(r.a.createElement(te,null)))}else u(r.a.createElement($,{API:t,changeContextURI:l}))}),[t,l,a,c]),m},ne=new k.a,re=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n,r=e.location;Object(y.a)(this,a),(n=t.call(this)).changeContextURI=function(e){e!==n.state.contextURI&&"track"!==e.split(":")[1]&&(n.setState({contextURI:e}),document.querySelector(".content-container")&&document.querySelector(".content-container").scrollTo(0,0))};var c={};return r.hash.split("&").forEach((function(e){var t=e.split("=");c[t[0]]=t[1]})),ne.setAccessToken(c["#access_token"]),n.state={token:c["#access_token"],playerState:null,contextURI:null,disabled:!0},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.onSpotifyWebPlaybackSDKReady=function(){var t=e.state.token,a=new window.Spotify.Player({name:"Another Spotify Clone",getOAuthToken:function(e){e(t)}});a.addListener("initialization_error",(function(e){var t=e.message;console.error(t)})),a.addListener("authentication_error",(function(e){var t=e.message;console.error(t)})),a.addListener("account_error",(function(e){var t=e.message;console.error(t)})),a.addListener("playback_error",(function(e){var t=e.message;console.error(t)})),a.addListener("player_state_changed",(function(t){var a=t.track_window.current_track,n={largeCover:a.album.images[0],smallCover:a.album.images[1],album:a.album.name,albumURI:a.album.uri,artist:a.artists[0].name,artistURI:a.artists[0].uri,track:a.name,trackURI:a.uri,context:t.context.uri,paused:t.paused,shuffle:t.shuffle,repeat:t.repeat_mode,linkedFrom:a.linked_from_uri,position:t.position,duration:t.duration};e.setState({playerState:n}),null===e.state.contextURI&&e.setState({contextURI:t.context.uri})})),a.addListener("ready",(function(t){var a=t.device_id;e.setState({deviceID:a}),ne.transferMyPlayback([a],{play:!0}).then((function(t){console.log(t),e.setState({disabled:!1})})).catch((function(e){console.log(e)}))})),a.addListener("not_ready",(function(e){var t=e.device_id;console.log("Device ID has gone offline",t)})),a.connect()},window.history.replaceState({},document.title,"/player")}},{key:"render",value:function(){var e;return e=this.state.disabled?r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"left-section"}),r.a.createElement("div",{className:"mid-section"},r.a.createElement("h3",null,"Spotify Premium is required for playback.")),r.a.createElement("div",{className:"right-section"})):r.a.createElement(D,{API:ne,playerState:this.state.playerState,changeContextURI:this.changeContextURI,disabled:this.state.disabled}),void 0!==this.state.token?r.a.createElement("div",{className:"interface"},r.a.createElement("div",{className:"not-controls"},r.a.createElement(I,{API:ne,changeContextURI:this.changeContextURI,contextURI:this.state.contextURI}),r.a.createElement(ae,{API:ne,contextURI:this.state.contextURI,playerState:this.state.playerState,changeContextURI:this.changeContextURI})),e):r.a.createElement(i.a,{to:"/"})}}]),a}(r.a.Component);var ce=function(){return r.a.createElement(s.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(h,null)),r.a.createElement(i.b,{path:"/player",component:re})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.9a23e3a6.chunk.js.map